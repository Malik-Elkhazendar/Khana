# ===========================================
# KHANA ENVIRONMENT TEMPLATE
# ===========================================
# Copy this file to .env for local development and fill real values.
#
# API env precedence in development (highest -> lowest):
# 1) .env.development.local
# 2) .env.local
# 3) .env.development
# 4) .env
#
# Recommended workflow:
# - Keep placeholders/defaults in tracked files (.env, .env.development, .env.example)
# - Keep real local secrets in *.local files (gitignored)

# ============================================================
# DATABASE
# ============================================================
POSTGRES_USER=khana
POSTGRES_PASSWORD=change_me_db_password
POSTGRES_DB=khana_dev
POSTGRES_PORT=5432
POSTGRES_HOST=localhost
DATABASE_URL=postgresql://khana:change_me_db_password@localhost:5432/khana_dev

# ============================================================
# API SERVER
# ============================================================
API_PORT=3000
API_PREFIX=api
NODE_ENV=development
CORS_ORIGINS=http://localhost:4200,http://localhost:4201

# ============================================================
# JWT & TOKENS
# ============================================================
JWT_SECRET=change_me_jwt_secret_64_hex
JWT_REFRESH_SECRET=change_me_refresh_secret_64_hex
REFRESH_TOKEN_HMAC_SECRET=change_me_hmac_secret_64_hex
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d
JWT_ACCESS_EXPIRES=15m
JWT_REFRESH_EXPIRES=7d
REFRESH_TOKEN_TTL_DAYS=7
REVOKED_TOKEN_RETENTION_DAYS=90

# ============================================================
# FRONTEND / INTEGRATIONS
# ============================================================
FRONTEND_PORT=4200
OPENAI_API_KEY=change_me_openai_api_key

# ============================================================
# EMAIL
# ============================================================
MAIL_HOST=localhost
MAIL_PORT=1025
MAIL_USER=change_me_mail_user
MAIL_PASSWORD=change_me_mail_password
MAIL_FROM=Khana Dev <noreply@khana-dev.local>

# ============================================================
# LOGGING
# ============================================================
LOG_LEVEL=debug
LOG_FORMAT=pretty

# ============================================================
# FEATURE FLAGS
# ============================================================
FEATURE_PAYMENT_GATEWAY=false
FEATURE_CUSTOMER_APP=false
FEATURE_ANALYTICS=true

# ============================================================
# ENVIRONMENT
# ============================================================
ENV_STAGE=development
